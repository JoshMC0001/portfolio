const _0x578cf8=_0x2a2d;(function(_0x16ce49,_0x48b999){const _0x426421=_0x2a2d,_0x47a400=_0x16ce49();while(!![]){try{const _0x5b130a=parseInt(_0x426421(0x24f))/0x1+parseInt(_0x426421(0x1df))/0x2*(parseInt(_0x426421(0x1f0))/0x3)+-parseInt(_0x426421(0x1ff))/0x4+parseInt(_0x426421(0x252))/0x5+-parseInt(_0x426421(0x210))/0x6*(parseInt(_0x426421(0x244))/0x7)+-parseInt(_0x426421(0x248))/0x8+-parseInt(_0x426421(0x216))/0x9*(parseInt(_0x426421(0x1e8))/0xa);if(_0x5b130a===_0x48b999)break;else _0x47a400['push'](_0x47a400['shift']());}catch(_0x474713){_0x47a400['push'](_0x47a400['shift']());}}}(_0x2e0c,0x64f6f));const firebaseConfig={'apiKey':_0x578cf8(0x246),'authDomain':'portfolio-5ed3f.firebaseapp.com','projectId':_0x578cf8(0x232),'storageBucket':'portfolio-5ed3f.firebasestorage.app','messagingSenderId':_0x578cf8(0x211),'appId':'1:127710028877:web:bde5c98f7283ee5dbc2804','measurementId':_0x578cf8(0x220)};firebase[_0x578cf8(0x25b)](firebaseConfig);const db=firebase[_0x578cf8(0x227)](),cardsRow=document[_0x578cf8(0x23a)]('cardsRow'),cardForm=document['getElementById'](_0x578cf8(0x24c)),cardTitle=document[_0x578cf8(0x23a)](_0x578cf8(0x1e5)),cardImageUpload=document[_0x578cf8(0x23a)](_0x578cf8(0x214)),cardLink=document['getElementById']('cardLink'),editIndexInput=document[_0x578cf8(0x23a)]('editIndex'),submitBtn=document[_0x578cf8(0x23a)](_0x578cf8(0x24d)),cancelEditBtn=document[_0x578cf8(0x23a)]('cancelEditBtn'),saveOrderBtn=document['getElementById'](_0x578cf8(0x257));let cards=[],editingDocId=null,sortable=new Sortable(cardsRow,{'animation':0x96,'onEnd'(){reorderCardsFromDOM();}});function reorderCardsFromDOM(){const _0x325741=_0x578cf8,_0x3b9229=[],_0x277e2c=cardsRow['querySelectorAll'](_0x325741(0x1de));_0x277e2c[_0x325741(0x234)](_0x417965=>{const _0x2aa473=_0x325741,_0x2db84a=_0x417965['getAttribute'](_0x2aa473(0x1e9)),_0x335937=cards[_0x2aa473(0x1f2)](_0xc2dc8=>_0xc2dc8['id']===_0x2db84a);if(_0x335937)_0x3b9229['push'](_0x335937);}),cards=_0x3b9229;}function renderCards(){const _0x30296c=_0x578cf8;cardsRow[_0x30296c(0x239)]='',cards[_0x30296c(0x234)]((_0x59ed63,_0x5828d8)=>{const _0x3756bf=_0x30296c,_0x53e7ad=document[_0x3756bf(0x202)](_0x3756bf(0x250));_0x53e7ad['className']=_0x3756bf(0x1ea),_0x53e7ad['setAttribute'](_0x3756bf(0x1e9),_0x59ed63['id']);const _0x48c8dc=document[_0x3756bf(0x202)](_0x3756bf(0x250));_0x48c8dc[_0x3756bf(0x215)]='card\x20h-100\x20d-flex\x20flex-column';const _0x346e9e=document[_0x3756bf(0x202)]('a');_0x346e9e['href']=_0x59ed63[_0x3756bf(0x243)]||'#',_0x346e9e[_0x3756bf(0x22e)]=_0x3756bf(0x251);const _0x26f0ee=document[_0x3756bf(0x202)](_0x3756bf(0x1e3));_0x26f0ee['src']=_0x59ed63['image'],_0x26f0ee[_0x3756bf(0x215)]=_0x3756bf(0x1fa),_0x26f0ee[_0x3756bf(0x1e7)]=_0x59ed63['title'];const _0x472ac5=document['createElement'](_0x3756bf(0x250));_0x472ac5[_0x3756bf(0x215)]=_0x3756bf(0x22c);const _0x13de94=document['createElement']('h5');_0x13de94[_0x3756bf(0x215)]='card-title',_0x13de94[_0x3756bf(0x256)]=_0x59ed63[_0x3756bf(0x20e)];const _0xad37e=document[_0x3756bf(0x202)]('p');_0xad37e['className']=_0x3756bf(0x241),_0xad37e[_0x3756bf(0x203)][_0x3756bf(0x213)]=_0x3756bf(0x226),_0xad37e[_0x3756bf(0x203)][_0x3756bf(0x255)]=_0x3756bf(0x262);const _0x230295=document[_0x3756bf(0x202)]('a');_0x230295[_0x3756bf(0x264)]=_0x59ed63['link']||'#',_0x230295[_0x3756bf(0x22e)]=_0x3756bf(0x251),_0x230295[_0x3756bf(0x1f1)]=_0x3756bf(0x236),_0x230295[_0x3756bf(0x256)]=_0x59ed63['link']||'(no\x20link)',_0xad37e['appendChild'](_0x230295),_0x472ac5['appendChild'](_0x13de94),_0x472ac5[_0x3756bf(0x25f)](_0xad37e),_0x346e9e[_0x3756bf(0x25f)](_0x26f0ee),_0x346e9e[_0x3756bf(0x25f)](_0x472ac5),_0x48c8dc['appendChild'](_0x346e9e);const _0x202b51=document['createElement'](_0x3756bf(0x250));_0x202b51[_0x3756bf(0x215)]=_0x3756bf(0x20d);const _0x146fd9=document[_0x3756bf(0x202)](_0x3756bf(0x24e));_0x146fd9[_0x3756bf(0x215)]=_0x3756bf(0x260),_0x146fd9[_0x3756bf(0x239)]=_0x3756bf(0x1f5),_0x146fd9['onclick']=()=>startEdit(_0x5828d8);const _0x5f2730=document['createElement'](_0x3756bf(0x24e));_0x5f2730['className']=_0x3756bf(0x205),_0x5f2730[_0x3756bf(0x239)]=_0x3756bf(0x1e0),_0x5f2730[_0x3756bf(0x1fe)]=()=>deleteCard(_0x5828d8),_0x202b51[_0x3756bf(0x25f)](_0x146fd9),_0x202b51[_0x3756bf(0x25f)](_0x5f2730),_0x48c8dc[_0x3756bf(0x25f)](_0x202b51),_0x53e7ad[_0x3756bf(0x25f)](_0x48c8dc),cardsRow['appendChild'](_0x53e7ad);});}function startEdit(_0x39cd2b){const _0x5b08de=_0x578cf8,_0x1b81a7=cards[_0x39cd2b];cardTitle[_0x5b08de(0x1fc)]=_0x1b81a7[_0x5b08de(0x20e)],cardLink[_0x5b08de(0x1fc)]=_0x1b81a7[_0x5b08de(0x243)],editIndexInput[_0x5b08de(0x1fc)]=_0x39cd2b,editingDocId=_0x1b81a7['id'],submitBtn[_0x5b08de(0x256)]=_0x5b08de(0x1ee),cancelEditBtn[_0x5b08de(0x22f)][_0x5b08de(0x1f7)](_0x5b08de(0x254));}function resetForm(){const _0x19daf4=_0x578cf8;cardForm[_0x19daf4(0x263)](),editIndexInput['value']='',editingDocId=null,submitBtn[_0x19daf4(0x256)]=_0x19daf4(0x1f9),cancelEditBtn[_0x19daf4(0x22f)]['add']('d-none');}async function uploadImage(_0x539eab){const _0x590dbf=_0x578cf8,_0x5f4ec3=new FormData();_0x5f4ec3[_0x590dbf(0x25c)](_0x590dbf(0x235),_0x539eab),_0x5f4ec3[_0x590dbf(0x25c)](_0x590dbf(0x1f6),_0x590dbf(0x258));const _0xb474d=await fetch(_0x590dbf(0x21a),{'method':_0x590dbf(0x1e2),'body':_0x5f4ec3});if(!_0xb474d['ok'])throw new Error(_0x590dbf(0x1ed));const _0x556ed6=await _0xb474d[_0x590dbf(0x23c)]();return _0x556ed6[_0x590dbf(0x20f)];}async function saveCardToFirestore(_0x53530f,_0x330e61=null){const _0x1e7651=_0x578cf8;if(_0x330e61)await db[_0x1e7651(0x1dd)]('mcmodels_cards')['doc'](_0x330e61)['set'](_0x53530f);else{const _0x255b27=await db[_0x1e7651(0x1dd)](_0x1e7651(0x1ec))[_0x1e7651(0x217)](_0x53530f);_0x53530f['id']=_0x255b27['id'];}}async function deleteCardFromFirestore(_0x4a5ad8){const _0x2e5157=_0x578cf8;await db[_0x2e5157(0x1dd)](_0x2e5157(0x1ec))['doc'](_0x4a5ad8)['delete']();}async function loadCards(){const _0x22b731=_0x578cf8;try{const _0x374701=await db['collection'](_0x22b731(0x1ec))[_0x22b731(0x245)]();cards=_0x374701['docs']['map'](_0x4c05c5=>({'id':_0x4c05c5['id'],..._0x4c05c5[_0x22b731(0x233)]()})),cards[_0x22b731(0x206)]((_0x50c9ce,_0x18dbdf)=>{const _0x4e1936=_0x22b731;if(_0x50c9ce['order']===undefined)return 0x1;if(_0x18dbdf[_0x4e1936(0x238)]===undefined)return-0x1;return _0x50c9ce['order']-_0x18dbdf['order'];}),renderCards();}catch(_0x243382){console['error'](_0x22b731(0x221),_0x243382);}}async function deleteCard(_0x26dd87){const _0x292898=_0x578cf8;if(confirm('Delete\x20this\x20card?')){const _0x1e6171=cards[_0x26dd87];try{await deleteCardFromFirestore(_0x1e6171['id']),cards['splice'](_0x26dd87,0x1),renderCards(),resetForm();}catch(_0x534f37){console['error']('Failed\x20to\x20delete\x20card:',_0x534f37),alert(_0x292898(0x24a));}}}cardForm[_0x578cf8(0x228)]('submit',async _0xf5099=>{const _0x316ffa=_0x578cf8;_0xf5099[_0x316ffa(0x237)]();const _0x28a236=cardTitle[_0x316ffa(0x1fc)][_0x316ffa(0x208)](),_0x367d45=cardLink[_0x316ffa(0x1fc)][_0x316ffa(0x208)]();if(!_0x28a236)return alert(_0x316ffa(0x209));submitBtn[_0x316ffa(0x1eb)]=!![];try{let _0x43681c='';if(cardImageUpload['files'][_0x316ffa(0x22a)]>0x0)_0x43681c=await uploadImage(cardImageUpload[_0x316ffa(0x21c)][0x0]);else{if(editingDocId){const _0x10241e=cards[_0x316ffa(0x1f2)](_0xf71487=>_0xf71487['id']===editingDocId);_0x43681c=_0x10241e?.['image']||'';}else{alert(_0x316ffa(0x1e1)),submitBtn['disabled']=![];return;}}const _0x56d292={'title':_0x28a236,'link':_0x367d45,'image':_0x43681c};if(editingDocId){await saveCardToFirestore(_0x56d292,editingDocId);const _0x43430f=cards[_0x316ffa(0x259)](_0x7af491=>_0x7af491['id']===editingDocId);_0x43430f!==-0x1&&(cards[_0x43430f]={'id':editingDocId,..._0x56d292});}else await saveCardToFirestore(_0x56d292),cards[_0x316ffa(0x223)](_0x56d292);renderCards(),resetForm();}catch(_0x4098b1){console['error'](_0x316ffa(0x240),_0x4098b1),alert('Failed\x20to\x20save\x20card.');}submitBtn['disabled']=![];}),cancelEditBtn[_0x578cf8(0x228)]('click',()=>{resetForm();}),saveOrderBtn[_0x578cf8(0x228)](_0x578cf8(0x224),async()=>{const _0xc4c0d3=_0x578cf8;try{reorderCardsFromDOM();for(let _0x444ca8=0x0;_0x444ca8<cards[_0xc4c0d3(0x22a)];_0x444ca8++){await db[_0xc4c0d3(0x1dd)](_0xc4c0d3(0x1ec))[_0xc4c0d3(0x200)](cards[_0x444ca8]['id'])['update']({'order':_0x444ca8});}alert(_0xc4c0d3(0x20a));}catch(_0x1e2223){console[_0xc4c0d3(0x230)]('Failed\x20to\x20save\x20card\x20order:',_0x1e2223),alert('Failed\x20to\x20save\x20card\x20order.');}}),loadCards();const auth=firebase[_0x578cf8(0x229)]();auth['onAuthStateChanged'](_0x188aa7=>{const _0x5ad344=_0x578cf8;!_0x188aa7&&(window[_0x5ad344(0x25d)][_0x5ad344(0x264)]=_0x5ad344(0x23e));});function logout(){const _0x37b351=_0x578cf8;auth[_0x37b351(0x201)]()[_0x37b351(0x1ef)](()=>{const _0x2a1233=_0x37b351;window[_0x2a1233(0x25d)][_0x2a1233(0x264)]=_0x2a1233(0x23e);});}function fetchCardCountFromFirestore(){const _0x8a0663=_0x578cf8;db['collection'](_0x8a0663(0x1ec))[_0x8a0663(0x245)]()['then'](_0x4ff57e=>{const _0x23de4d=_0x8a0663,_0xa9c006=_0x4ff57e[_0x23de4d(0x21b)];document['getElementById'](_0x23de4d(0x22d))['textContent']=_0xa9c006;})['catch'](_0x5abd69=>{const _0x18f5e0=_0x8a0663;console[_0x18f5e0(0x230)](_0x18f5e0(0x219),_0x5abd69),document['getElementById'](_0x18f5e0(0x22d))[_0x18f5e0(0x256)]='Error';});}fetchCardCountFromFirestore();function updateGalleryImageCount(){const _0x58506a=_0x578cf8,_0x5822ce=document[_0x58506a(0x23a)](_0x58506a(0x24b));db[_0x58506a(0x1dd)](_0x58506a(0x1f8))[_0x58506a(0x245)]()[_0x58506a(0x1ef)](_0x3dadf7=>{const _0x193c4a=_0x58506a,_0x1c2952=_0x3dadf7[_0x193c4a(0x21b)];_0x5822ce[_0x193c4a(0x256)]=_0x1c2952;})[_0x58506a(0x25e)](_0x55710e=>{const _0x39a7e6=_0x58506a;console['error'](_0x39a7e6(0x1fd),_0x55710e),_0x5822ce[_0x39a7e6(0x256)]=_0x39a7e6(0x1e4);});}document['addEventListener'](_0x578cf8(0x1f3),()=>{updateGalleryImageCount();});const galleryRow=document[_0x578cf8(0x23a)](_0x578cf8(0x253));function _0x2e0c(){const _0x5aee0e=['9fWIFGd','add','Untitled','Error\x20fetching\x20card\x20count:\x20','https://api.cloudinary.com/v1_1/djsxsmzhr/upload','size','files','message','\x22\x20target=\x22_blank\x22\x20class=\x22btn\x20btn-primary\x20btn-sm\x22>View</a>','latestCardLink','G-RBDZRPQ2H9','Failed\x20to\x20load\x20cards\x20from\x20Firestore:','imageUrl','push','click','empty','0.85rem','firestore','addEventListener','auth','length','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','card-body','totalCardCount','target','classList','error','<a\x20href=\x22','portfolio-5ed3f','data','forEach','file','noopener\x20noreferrer','preventDefault','order','innerHTML','getElementById','Gallery\x20Image','json','limit','login.html','latestCardImage','Failed\x20to\x20save\x20card:','card-link-text\x20text-truncate','\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-body\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22card-title\x22>','link','1834yOKjxN','get','AIzaSyDCz7E4DSG9nanQ_fmM9fF8te6TXBpXUA0','\x0a\x20\x20\x20\x20<div\x20class=\x22card\x20h-100\x22>\x0a\x20\x20\x20\x20\x20\x20<img\x20src=\x22','4858232SHusym','docs','Failed\x20to\x20delete\x20card.','totalViews','cardForm','submitBtn','button','762416WrECvF','div','_blank','1944430wbzfuB','galleryRow','d-none','marginTop','textContent','saveOrderBtn','unsigned_keyart','findIndex','img/default.png','initializeApp','append','location','catch','appendChild','btn\x20btn-sm\x20btn-primary','Loading...','0.25rem','reset','href','collection','.col','1591782AxbMkm','<i\x20class=\x22bi\x20bi-trash\x22></i>','Please\x20upload\x20an\x20image','POST','img','Error','cardTitle','\x22\x20class=\x22card-img-top\x22\x20alt=\x22','alt','634930qesnHr','data-id','col','disabled','mcmodels_cards','Upload\x20failed','Update\x20Card','then','3bYGIxx','rel','find','DOMContentLoaded','<p>Error\x20loading\x20gallery:\x20','<i\x20class=\x22bi\x20bi-pencil\x22></i>','upload_preset','remove','gallery','Add\x20Card','card-img-top','latestCardTitle','value','Failed\x20to\x20count\x20gallery\x20images:','onclick','1058896FxXNAT','doc','signOut','createElement','style','image','btn\x20btn-sm\x20btn-danger','sort','No\x20title','trim','Title\x20is\x20required','Card\x20order\x20saved!','<p>No\x20gallery\x20items\x20found.</p>','orderBy','card-footer\x20d-flex\x20justify-content-end\x20gap-2','title','secure_url','13698FoymeU','127710028877','img/default.jpg','fontSize','cardImageUpload','className'];_0x2e0c=function(){return _0x5aee0e;};return _0x2e0c();}function renderGalleryCard(_0x573dfd){const _0x2665ce=_0x578cf8,_0x42b727=_0x573dfd[_0x2665ce(0x233)](),_0x46649d=document[_0x2665ce(0x202)](_0x2665ce(0x250));_0x46649d[_0x2665ce(0x215)]=_0x2665ce(0x1ea),_0x46649d[_0x2665ce(0x239)]=_0x2665ce(0x247)+(_0x42b727[_0x2665ce(0x222)]||_0x2665ce(0x25a))+_0x2665ce(0x1e6)+(_0x42b727[_0x2665ce(0x20e)]||_0x2665ce(0x23b))+_0x2665ce(0x242)+(_0x42b727['title']||_0x2665ce(0x218))+'</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x42b727[_0x2665ce(0x243)]?_0x2665ce(0x231)+_0x42b727[_0x2665ce(0x243)]+_0x2665ce(0x21e):'')+_0x2665ce(0x22b),galleryRow[_0x2665ce(0x25f)](_0x46649d);}function loadGallery(){const _0x3c1fef=_0x578cf8;galleryRow[_0x3c1fef(0x239)]=_0x3c1fef(0x261),db[_0x3c1fef(0x1dd)]('gallery')[_0x3c1fef(0x245)]()[_0x3c1fef(0x1ef)](_0x3a5af1=>{const _0x1fb3e3=_0x3c1fef;galleryRow['innerHTML']='';if(_0x3a5af1[_0x1fb3e3(0x225)]){galleryRow[_0x1fb3e3(0x239)]=_0x1fb3e3(0x20b);return;}_0x3a5af1[_0x1fb3e3(0x234)](_0x5cbde5=>{renderGalleryCard(_0x5cbde5);});})[_0x3c1fef(0x25e)](_0x10fc76=>{const _0x5a76a8=_0x3c1fef;galleryRow[_0x5a76a8(0x239)]=_0x5a76a8(0x1f4)+_0x10fc76[_0x5a76a8(0x21d)]+'</p>';});}function _0x2a2d(_0x3e6e8a,_0x41ca68){const _0x2e0c79=_0x2e0c();return _0x2a2d=function(_0x2a2d8b,_0x253c0d){_0x2a2d8b=_0x2a2d8b-0x1dd;let _0x592041=_0x2e0c79[_0x2a2d8b];return _0x592041;},_0x2a2d(_0x3e6e8a,_0x41ca68);}loadGallery();const latestCardTitle=document['getElementById'](_0x578cf8(0x1fb)),latestCardImage=document[_0x578cf8(0x23a)](_0x578cf8(0x23f)),latestCardLink=document[_0x578cf8(0x23a)](_0x578cf8(0x21f));function fetchLatestMCModel(){const _0x29dfb5=_0x578cf8;db['collection'](_0x29dfb5(0x1ec))[_0x29dfb5(0x20c)](_0x29dfb5(0x238))[_0x29dfb5(0x23d)](0x1)['get']()[_0x29dfb5(0x1ef)](_0x3fb896=>{const _0x369352=_0x29dfb5;if(!_0x3fb896[_0x369352(0x225)]){const _0x906e8a=_0x3fb896[_0x369352(0x249)][0x0]['data']();latestCardTitle['textContent']=_0x906e8a[_0x369352(0x20e)]||_0x369352(0x207),latestCardImage['src']=_0x906e8a[_0x369352(0x204)]||_0x369352(0x212),latestCardLink['href']=_0x906e8a[_0x369352(0x243)]||'#';}})[_0x29dfb5(0x25e)](_0x2cd77d=>{console['error']('Error\x20fetching\x20latest\x20product:',_0x2cd77d);});}fetchLatestMCModel();